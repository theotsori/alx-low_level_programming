CC = gcc

SRC = main.c school.c

OBJ = $(SRC:%.c=%.o)

NAME = school

DELETE = /bin/rm -f
COMPILE = $(CC) $(CFLAGS) -c $< -o $@
LINK = $(CC) $(OBJ) -o $(NAME)

CFLAGS = -Wall -Werror -Wextra -pedantic

.PHONY: all clean oclean fclean re

all: $(NAME)

clean:
	$(DELETE) $(OBJ) $(NAME) *~

oclean:
	$(DELETE) $(OBJ) *~

fclean:
	$(DELETE) $(OBJ) $(NAME) *~

re: oclean all

$(NAME): $(OBJ)
	$(LINK)

$(OBJ): %.o: %.c m.h
	$(COMPILE)
